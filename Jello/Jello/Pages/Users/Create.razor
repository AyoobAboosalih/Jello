@page "/users/create"
@inject NavigationManager Navigation;

<h3>Create a new Project</h3>

<EditForm Model="user" OnValidSubmit="@HandleValidSubmit">
    <DataAnnotationsValidator />
    <div class="form-group">
        <label class="control-label">First Name</label>
        <ValidationMessage For="@(() => user.FirstName)" />
        <InputText @bind-Value="@user.FirstName"></InputText>
    </div>
    <div class="form-group">
        <label class="control-label">Last Name</label>
        <ValidationMessage For="@(() => user.LastName)" />
        <InputText @bind-Value="@user.LastName"></InputText>
    </div>
    <div class="form-group">
        <label class="control-label">Contact Number</label>
        <ValidationMessage For="@(() => user.ContactNumber)" />
        <InputText @bind-Value="@user.ContactNumber"></InputText>
    </div>
    <div class="form-group">
        <label class="control-label">Email</label>
        <ValidationMessage For="@(() => user.Email)" />
        <InputText @bind-Value="@user.Email"></InputText>
    </div>



    <button class="btn btn-primary" type="submit">Submit</button>


</EditForm>

@code {

    private User user = new User();

    private void HandleValidSubmit()
    {
        var userGuid = Guid.NewGuid();
        App.Users.Add(userGuid, user);
        Navigation.NavigateTo("/users");
    }

}
